---
title: 事件系统
date: 2025-10-16
tags:
  - 自研游戏引擎
  - Cpp
category: 游戏引擎
description: 基于 Cherno Hazel 引擎的入门教学，涵盖引擎核心概念、项目搭建、动态链接实践与链接方式对比，适合游戏开发新手
---
---



[[事件框架]]
[[窗口抽象与GLFW窗口]]
[[窗口事件]]
[[层]]




| 组件模块      | 核心职责                           | 关键设计要点                                                                                     |
| --------- | ------------------------------ | ------------------------------------------------------------------------------------------ |
| **事件定义层** | 定义统一事件接口，按业务模块划分具体事件类型         | - 抽象`Event`基类，提供类型、分类、处理状态等统一接口<br><br>- 按领域拆分具体事件（窗口、输入、游戏逻辑等）<br><br>- 用枚举和掩码实现事件类型与分类管理 |
| **事件分发层** | 负责事件类型匹配与回调路由，控制事件传播逻辑（吞噬、优先级） | - 实现`EventDispatcher`模板类，自动匹配事件类型并分发<br><br>- 支持事件 “吞噬” 机制（`m_Handled`标记停止传播）              |
| **事件总线层** | 全局管理事件 - 回调映射，提供注册、注销、派发的统一接口  | - 单例模式设计，维护 “事件类型→回调列表” 的哈希表<br><br>- 支持函数指针、Lambda、成员函数等多种回调形式                            |
| **集成适配层** | 对接引擎现有模块，完成原生事件到引擎事件的转换与分发     | - 适配 GLFW 窗口回调（关闭、resize、输入等）<br><br>- 扩展`Layer`类的事件处理接口，支持层级事件响应                          |
